# 量化交易模板與檢查清單

> 本文件包含回測報告模板、實盤 checklist 等

## 回測報告模板

```markdown
## 策略回測報告

### 基本資訊
- 策略名稱：
- 回測期間：
- 交易標的：
- 初始資金：

### 績效指標
| 指標 | 數值 |
|------|------|
| 年化報酬 | |
| 夏普比率 | |
| 最大回撤 | |
| 卡瑪比率 | |
| 勝率 | |
| 盈虧比 | |

### 風險分析
- 最大連續虧損天數：
- 最大單筆虧損：
- VaR (95%)：

### 交易統計
- 總交易次數：
- 年均交易次數：
- 平均持倉時間：

### 結論與建議
[策略優缺點分析]
```

## 實盤上線 Checklist

### 回測驗證
- [ ] 樣本外測試通過
- [ ] 交易成本已包含
- [ ] 無前視偏差
- [ ] 滑價估計合理

### 風控設置
- [ ] 單筆停損設定
- [ ] 策略最大回撤停損
- [ ] 每日虧損上限
- [ ] 部位上限設定

### 系統準備
- [ ] 資金已到位
- [ ] API 權限正確
- [ ] 備援系統就緒
- [ ] 監控告警設定

### 心理準備
- [ ] 接受初期可能虧損
- [ ] 不會因單筆虧損改策略
- [ ] 設定檢視週期（如月度）
- [ ] 有明確的停用標準

## 過度擬合診斷表

| 信號 | 說明 | 解決方案 |
|------|------|----------|
| 回測夏普 > 3 | 現實中很難達到 | 檢查數據洩漏 |
| 參數敏感 | 改一點參數結果大變 | 使用穩健參數範圍 |
| 交易次數少 | 樣本不足統計意義 | 延長回測期間 |
| 樣本外暴跌 | 訓練/測試落差大 | 重新審視策略邏輯 |

### 防止過度擬合的方法

1. **Walk-Forward Analysis** - 滾動視窗訓練和測試，模擬真實使用情境
2. **Cross-Validation** - K-fold 交叉驗證（時間序列要注意順序）
3. **參數穩健性測試** - 測試參數附近的表現，避免選擇極端值
4. **多市場驗證** - 在不同市場測試，策略邏輯應該普適

## ML 策略開發注意事項

### 可行應用
- 因子組合優化
- 風險預測（波動度預測）
- 交易執行優化
- 另類數據處理（文本、圖像）

### 常見陷阱

| 陷阱 | 說明 |
|------|------|
| **數據洩漏** | 訓練時無意使用未來資訊 |
| **樣本偏差** | 只用特定市場狀態的數據 |
| **過擬合** | 複雜模型記住噪音 |
| **非穩態** | 金融數據分布會變化 |

### 特徵工程建議

**良好的特徵：**
- 技術指標（RSI, MACD, Bollinger %B）
- 基本面比率（P/E, P/B 的 Z-score）
- 動量特徵（多時間框架報酬）
- 波動特徵（已實現波動、隱含波動）

**避免的特徵：**
- 原始價格（非穩態）
- 未標準化的數值
- 與目標高度相關的滯後變量（洩漏）
